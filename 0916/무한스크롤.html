<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>무한스크롤</title>
</head>
<body>
    <!-- 특히 모바일쪽에서 많이 사용됨 -->
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
    <h1>하하하하하하하하하하하하하하하하하하하하하하하하</h1>
<script>
    // 스크롤 이벤트

    // 크롬에서 스크롤바 움직이는데 문제가 있어요! 시간을 약간 주어야 함
    setTimeout(()=>{
        window.scrollTo(0,0); // 스크롤바 맨 위로 올리기
    },50);



    window.onscroll = function(){
        
        // 문서(document)의 실시간 바뀌는 정보를 가진 document.documentElement
        let docElem = document.documentElement; // 줄여쓰기 용도

        // 스크롤이 끝까지 같다면 
        let tunning = 50; // 화면 바닥에 닿기 전
        if((docElem.scrollTop + docElem.clientHeight) >= (docElem.scrollHeight - tunning) ) {
            // alert("스크롤 다 내렸어용! 그럼 올령");
            // 보통 여기에 AJAX를 이용해서 서버에서 데이터를 가져와서 추가해줌
            for(var i=1; i<=10; i++) {
                let h1 = document.createElement("h1");
                let ranNum = Math.ceil(Math.random()*100);
                h1.innerHTML = "희희" + ranNum + "번 그렇당";
                document.body.appendChild(h1);
            }
        }


        console.log("스크롤높이: " + document.documentElement.scrollTop);
        console.log("보이는 화면 높이: " + document.documentElement.clientHeight);
        console.log("실제 문서 높이: " + document.documentElement.scrollHeight);
        console.log("====================================================");
    }
</script>
</body>
</html>